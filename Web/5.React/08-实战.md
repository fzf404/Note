<!-- 
title: 08-实战
sort: 
--> 

> Login.js

```js
import React, { useState } from 'react'
import { useHistory } from 'react-router-dom'
import { Form, Input, Button } from 'antd'
import axios from 'axios'

const FormItem = Form.Item;

export default function Login() {

  const [name, setName] = useState('')
  const [pwd, setPwd] = useState('')
  const history = useHistory();

  return <Form className="login-form">
    <FormItem>
      <h1>React Login</h1>
    </FormItem>
    <FormItem>
      <Input placeholder="User Name" maxLength={5} onChange={(event) => {
        setName(event.target.value)
      }} />
    </FormItem>
    <FormItem>
      <Input placeholder="Password" maxLength={5} type="password" onChange={(event) => {
        setPwd(event.target.value)
      }} />
    </FormItem>
    <FormItem>
      <label>{name}-{pwd}</label>
    </FormItem>
    <FormItem>
      <Button type="primary" onClick={() => {
        login(name, pwd).then((response) => {
          let res = response.data;
          if (res.code === 0) {
            history.push('/home');
          }
        }, () => console.log("Login Error")
        )
      }}>
        登录</Button>
    </FormItem>
  </Form>
}

function login(name, pwd) {
  return axios.get("/login.json", {
    params: {
      name, pwd
    }
  })
}
```

> Home.js

```js
import { React, useEffect, useState } from 'react'
import axios from 'axios'
import { Link } from 'react-router-dom'
import { Table } from 'antd'
import './home.scss'

export default function Home() {

  const [data, setData] = useState([]);
  const [index, setIndex] = useState(0);
  const columns = [
    {
      title: 'Area',
      dataIndex: 'area'
    }, {
      title: 'Distribute',
      dataIndex: 'distri'
    }, {
      title: 'State',
      dataIndex: 'state'
    }, {
      title: 'Info',
      dataIndex: 'info'
    }, {
      title: 'Active',
      dataIndex: 'active'
    }
  ];

  useEffect(() => {
    axios.get('/data.json').then((response) => {
      const res = response.data;
      if (res.code == 0) {
        setData(res.data);
      }
    })
  }, []);

  return <div className="home">
    <h1>React Report</h1>
    <div className="wrap">
      <div className="nav">
        <a className={index == 0 ? "checked" : "unchecked"} onClick={() => setIndex(0)}>Dynamic</a>
        <a className={index == 1 ? "checked" : "unchecked"} onClick={() => setIndex(1)}>Map</a>
        <a className={index == 2 ? "checked" : "unchecked"} onClick={() => setIndex(2)}>Trend</a>
        <a className={index == 3 ? "checked" : "unchecked"} onClick={() => setIndex(3)}>Report</a>
      </div>
      <p>Don't Trust.</p>
      <Table
        pagination={false}
        columns={columns}
        dataSource={data} />
      <Link to="/" className="nav-link">Go Back</Link>
    </div>
  </div>
}
```

