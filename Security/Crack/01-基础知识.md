<!--
title: 01-基础知识
sort:
-->

# 逆向基础知识

## 进制

- 十六进制表

  | 4   | 5   | 6   | 7   | 8    | 9    | A    | B    | C    | D    | E    | F    |
  | --- | --- | --- | --- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
  | 100 | 101 | 110 | 111 | 1000 | 1001 | 1010 | 1011 | 1100 | 1101 | 1110 | 1111 |

## 逻辑运算

- XOR

  > 异或两次得到同一个值

## 寄存器

<img src="https://img-1257284600.cos.ap-beijing.myqcloud.com/2021/202111301535147.jpg" alt="图片" style="zoom: 67%;" />

- **32 位通用寄存器**

  | 寄存器 | 主要用途                              | 编号 | 存储数据的范围 |
  | ------ | ------------------------------------- | ---- | -------------- |
  | EAX    | 累加器                                | 0    | 0 - 0xFFFFFFFF |
  | ECX    | 计数                                  | 1    | 0 - 0xFFFFFFFF |
  | EDX    | I/O 指针                              | 2    | 0 - 0xFFFFFFFF |
  | EBX    | DS 段的数据指针                       | 3    | 0 - 0xFFFFFFFF |
  | ESP    | 堆栈指针                              | 4    | 0 - 0xFFFFFFFF |
  | EBP    | SS 段的数据指针                       | 5    | 0 - 0xFFFFFFFF |
  | ESI    | 字符串操作的源指针；SS 段的数据指针   | 6    | 0 - 0xFFFFFFFF |
  | EDI    | 字符串操作的目标指针；ES 段的数据指针 | 7    | 0 - 0xFFFFFFFF |

- 寄存器位数

  > EAX-AX-AH-Al
  >
  > 32bit-16-8-8

- 段寄存器

  > 内存单元的物理地址：段寄存器的值+偏移量

  | 寄存器 | 主要用途                                       |
  | ------ | ---------------------------------------------- |
  | CS     | 代码段寄存器，指向包含程序指令的段。           |
  | SS     | 栈段寄存器，指向包含当前程序栈的段。           |
  | DS     | 数据段寄存器，此后的所有地址都作为此地址的偏移 |
  | ES     | 附加段寄存器，串操作指令中目的串所在的段。     |

- 指令指针寄存器

  > EIP: 与 CS 一同指向即将执行的指令的地址

## 汇编

- MOV

  > MOV 目标, 源
  >
  > MOV 内存/目标寄存器，内存/目标寄存器/立即数
  >
  > - 注：左右两边不能同时为内存
  >
  > **书写内存的格式：**
  >
  > 1. `MOV [内存地址], 数据`
  >
  > 2. `MOV 数据宽度 ptr ds:[内存地址], 数据`
  >
  >    > 一个内存地址对应 8bit，也就是一个 byte
  >    >
  >    > 这种方法可以顺序写入。
  >
  > 3. `[内存地址*{1,2,4,8}+立即数]`
  >
  > | 数据宽度      | 范围       |
  > | ------------- | ---------- |
  > | byte - 8bit   | 0xFF       |
  > | word - 16bit  | 0xFFFF     |
  > | dword - 32bit | 0xFFFFFFFF |
  >
  > ```assembly
  > MOV eax, ecx
  > MOV	ax, 0xF404
  > MOV word ptr Ds:[0x12345678], 0xFFFF	; 向内存中写入数据
  > ```

- ADD/SUB

  > ```assembly
  > MOV eax, 0x1	; ax:0x00000001
  > ADD eax, 0x1 	; ax:0x00000002
  > SUB eax, 0x3	; ax:0xFFFFFFFF
  > ```

- AND/OR/NOT/XOR

  > AND 一一得一
  >
  > OR 有一得一
  >
  > XOR 不同为一
  >
  > NOT 取反
  >
  > ```assembly
  > MOV eax, 0x4	; ax: 0100
  > XOR eax, 0x5	; reg:0101
  > NOP				; ax: 0001
  > ```
