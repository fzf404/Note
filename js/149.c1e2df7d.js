(window.webpackJsonp=window.webpackJsonp||[]).push([[149],{777:function(n,i){n.exports=' \x3c!-- \ntitle: 14-NodeMCU网络\nsort: \n--\x3e\n\n## ESP8266HTTPClient\n\n```cpp\n#include <Arduino.h>\n#include <ESP8266WiFi.h>\n#include <ESP8266HTTPClient.h>\n\n#define URL "http://opus.fzf404.art/api/active"\n\nvoid httpClientRequest();\n\n// wifi接入信息\nconst char* ssid = "Tenda_fzf";\nconst char* password = "18652798912";\n\nvoid setup() {\n  Serial.begin(9600);\n\n  // 设置工作模式为无线终端模式\n  WiFi.mode(WIFI_STA);\n  WiFi.begin(ssid, password);\n\n  // 判断连接\n  while (WiFi.status() != WL_CONNECTED) {\n    delay(1000);\n    Serial.print(".");\n  }\n  Serial.println("");\n  Serial.print("WiFi Connected!");\n  // 发送请求\n  httpClientRequest();\n}\n\nvoid loop() {}\n\n// 发送HTTP请求\nvoid httpClientRequest(){\n\n  HTTPClient httpClient;\n\n  // 配置URL\n  httpClient.begin(URL);\n  Serial.print("URL: "); Serial.println(URL);\n\n  //发送请求\n  int httpCode = httpClient.GET();\n  Serial.print("Send GET request to URL: ");\n  Serial.println(URL);\n\n  if (httpCode == HTTP_CODE_OK) {\n    String responsePayload = httpClient.getString();\n    Serial.println("Server Response Payload: ");\n    Serial.println(responsePayload);\n  } else {\n    Serial.println("Server Respose Code：");\n    Serial.println(httpCode);\n  }\n\n  httpClient.end();\n}\n```\n\n## WiFiClient\n\n```cpp\n#include <Arduino.h>\n#include <ESP8266WiFi.h>\n\nvoid wifiClientRequest();\n\nconst char *host = "opus.fzf404.art"; // 网络服务器地址\nconst int httpPort = 80;                         // http端口80\n\n// 设置wifi接入信息(请根据您的WiFi信息进行修改)\nconst char *ssid = "Tenda_fzf";\nconst char *password = "18652798912";\n\nvoid setup() {\n  Serial.begin(9600);\n\n  //设置ESP8266工作模式为无线终端模式\n  WiFi.mode(WIFI_STA);\n\n  WiFi.begin(ssid, password);\n  while (WiFi.status() != WL_CONNECTED) {\n    delay(1000);\n    Serial.print(".");\n  }\n  Serial.println("");\n  Serial.println("WiFi Connected!");\n\n  wifiClientRequest();\n}\n\nvoid loop() {}\n\n// 发送HTTP请求\nvoid wifiClientRequest() {\n\n  WiFiClient client;\n\n  // HTTP请求\n  String httpRequest = String("GET /") + " HTTP/1.1\\r\\n" + "Host: " + host +\n                       "\\r\\n" + "Connection: close\\r\\n" + "\\r\\n";\n\n  Serial.print("Connecting to ");\n  Serial.print(host);\n\n  // 发送请求\n  if (client.connect(host, httpPort)) {\n    Serial.println(" Success!");\n\n    client.print(httpRequest);\n    Serial.println("Sending request: ");\n    Serial.println(httpRequest);\n\n    Serial.println("Web Server Response:");\n    while (client.connected() || client.available()) {\n      if (client.available()) {\n        String line = client.readStringUntil(\'\\n\');\n        Serial.println(line);\n      }\n    }\n    // 关闭连接\n    client.stop();\n    Serial.print("Disconnected from ");\n    Serial.print(host);\n\n  } else {\n    Serial.println(" connection failed!");\n    client.stop();\n  }\n}\n```\n'}}]);