(window.webpackJsonp=window.webpackJsonp||[]).push([[358],{986:function(n,p){n.exports="\x3c!--\ntitle: FFmpeg\nsort:\n--\x3e\n\n# FFmpeg 入门\n\n### 常用功能\n\n```bash\n# 合并m4s音频与视频\nffmpeg -i .\\video.m4s -i .\\audio.m4s -codec copy out.mp4\n# 提取音频\nffmpeg -i .\\video.mp4 -acodec copy -vn output.aac\n\n# mkv转MP4\nffmpeg -i \"test.mkv\" -vcodec copy -acodec aac 'test.mp4'\n```\n\n## 安装\n\n[FFmpeg 下载](https://ffmpeg.zeranoe.com/builds/)\n\n`choco install ffmpeg`\n\n## 参数\n\n### 主要参数\n\n```powershell\n-i # 设定输出流\n-f # 设定输出格式\n-ss\t# 设定开始时间\n```\n\n### 视频参数\n\n```powershell\n-b # 设定视频码率，默认200kbit/s\n-r # 设定帧率，默认25\n-s # 设置宽高\n-aspect\t# 画面比例\n-vn\t# 不处理视频\n-vcodec # 设定视频解码器\n```\n\n### 音频参数\n\n```powershell\n-ar # 设定采样率\n-ac # 设定声音的Channel数\n-acodec # 设定声音编解码器，未设定时则使用与输入流相同的编解码器\n-an # 不处理音频\n```\n\n## 使用\n\n- 格式转换\n\n  `ffmpeg -i input.mp4 output.avi`\n\n- 提取音频\n\n  `ffmpeg -i *.mp4 -acodec aac -vn output.aac`\n\n- 提取视频\n\n  `ffmpeg -i input.mp4 -vcodec copy -an output.mp4`\n\n- 视频剪裁\n\n  `ffmpeg -ss 00:00:15 -t 00:00:05 -i input.mp4 -vcodec copy -acodec copy output.mp4`\n\n- 码率控制\n\n  > fmpeg 控制码率有 3 种选择：`-minrate -b:v -maxrate`\n  >\n  > -b:v 平均码率\n  >\n  > `ffmpeg -i input.mp4 -b:v 2000k output.mp4`\n  > -bufsize 用于设置码率控制缓冲器的大小\n  >\n  > `ffmpeg -i input.mp4 -b:v 2000k -bufsize 2000k output.mp4`\n  >\n  > -minrate -maxrate 设置码率阈值\n  >\n  > `ffmpeg -i input.mp4 -b:v 2000k -bufsize 2000k -maxrate 2500k output.mp4`\n\n- 编码转换\n\n  `ffmpeg -i input.mp4 -vcodec h264 output.mp4`\n\n- 过滤器\n\n  > 添加 logo：\n  >\n  > `ffmpeg -i input.mp4 -i iQIYI_logo.png -filter_complex overlay output.mp4`\n\n- 抓取视频帧\n\n  > `ffmpeg -i input.mp4 -r 1 -q:v 2 -f image2 pic-%03d.jpeg`\n  >\n  > -r 每秒抓取帧数\n  >\n  > `ffmpeg -i input.mp4 -ss 00:00:20 -t 10 -r 1 -q:v 2 -f image2 pic-%03d.jpeg`\n  >\n  > 设置时间段\n\n### 总结\n"}}]);