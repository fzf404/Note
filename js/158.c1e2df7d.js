(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{786:function(n,i){n.exports='\x3c!--\ntitle: 00-STM32配置\nsort:\n--\x3e\n\n> 使用 SMT32F103，淘宝 8 块包邮。\n>\n> 还需要 USB-TTl 烧写器\n>\n> 另外需要有 keil 开发 51 的基础\n\n![image-20201031193923530](https://img-1257284600.cos.ap-beijing.myqcloud.com/2020/20201031193923.png)\n\n## CubeIDE\n\n> stm32 官方的免费 IDE\n>\n> 集成了 CubeMx\n\n## keil5\n\n#### 芯片包\n\n> keil5 安装`STM32F1xx`芯片包\n>\n> 菜单栏`project -> manage -> pack installer -> File -> import`\n\n==安装时出现的问题==\n\n> manage 选项为灰色\n\n1. 破解程序及 keil5 必须都以管理员身份运行\n2. 需要修改 Target 为 ARM 生成注册码\n3. 实在不行重新安装\n\n## 使用\n\n> 新建项目，参考[51 笔记](/#/HardWare/51MCU/01-第一个LED)\n>\n> 添加启动文件：`startup_stm32f10x_md.s`\n>\n> 位置：`C:\\Keil_v5\\ARM\\Startup\\ST\\STM32F10x`\n\n![image-20201105162533095](https://img-1257284600.cos.ap-beijing.myqcloud.com/2020/20201105162533.png)\n\n### 编译\n\n> F7-编译\n\n### ==出现的问题==\n\n> 缩进大小为 2 个字符\n>\n> 中文乱码\n\n1. `Eidt -> Configuration`\n\n2. ![image-20201031194927018](https://img-1257284600.cos.ap-beijing.myqcloud.com/2020/20201031194927.png)\n\n> 编译时报错：`"core_cm3.h": No such file or directory`\n\n1. 将`.\\Keil_v5\\ARM\\PACK\\ARM\\CMSIS\\4.3.0\\CMSIS\\Include`复制到`.\\Keil_v5\\ARM\\ARMCC\\include`\n2. 或添加路径到`include path`\n\n## 写个 main 函数\n\n```c\nint main()\n{\n    while(1);\n}\n```\n\n## 烧录\n\n> 介绍两种方法\n\n### CH340 串口烧录\n\n> 生成 HEX 文件\n>\n> ![image-20201031212332360](https://img-1257284600.cos.ap-beijing.myqcloud.com/2020/20201031212332.png)\n\n![image-20201031205124736](https://img-1257284600.cos.ap-beijing.myqcloud.com/2020/20201031205124.png)\n\n> BOOT0 跳线接 1\n>\n> BOOT01 跳线接 0\n\n![](https://img-1257284600.cos.ap-beijing.myqcloud.com/2020/20201031205835.png)\n\n![在这里插入图片描述](https://img-blog.csdnimg.cn/20200523094925600.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2Rvd25hbmRkdXNr,size_16,color_FFFFFF,t_70)\n\n> 使用 ISP 程序烧录\n\n![image-20201031210626063](https://img-1257284600.cos.ap-beijing.myqcloud.com/2020/20201031210626.png)\n\n烧录成功啦，当然这个程序没有任何作用…\n\n### STLink_v2 烧录\n\n> 按照引脚定义接上四根线\n\n![image-20201101184227427](https://img-1257284600.cos.ap-beijing.myqcloud.com/2020/20201101184227.png)\n\n![image-20201101184245763](https://img-1257284600.cos.ap-beijing.myqcloud.com/2020/20201101184245.png)\n\n![image-20201101184311119](https://img-1257284600.cos.ap-beijing.myqcloud.com/2020/20201101184311.png)\n\n## 使用 SWD 调试接口\n\n![image-20201105161213345](https://img-1257284600.cos.ap-beijing.myqcloud.com/2020/20201105161213.png)\n'}}]);