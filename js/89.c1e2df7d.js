(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{717:function(n,i){n.exports="\x3c!--\ntitle: 04-Vue指令\nsort:\n--\x3e\n\n## 过滤器\n\n> 为变量添加\n\n```js\n// 定义名为meter的过滤器，第二个参数需要传\nVue.filter('meter',function(val,unit){\n  val = val || 0;\n  unit = unit || 'm';\n  return (val/1000).toFixed(2)+unit;\n})\n\nVue.filter('currency',function(val,unit){\n  val = val || 0;\n  unit = unit || '$'\n  return unit+val;\n})\n\nnew Vue({\n  el:'#app',\n  data:{\n    price:10,\n    length:0,\n  }\n})\n\n// html\n<div id=\"app\">\n  <input v-model=\"length\">mm\n  <br>\n  {{length | meter('m')}}\n  <hr>\n  <input v-model=\"price\">\n  <br>\n  {{ price | currency('￥') }}\n</div>\n```\n\n## 自定义指令\n\n```js\n// 定义名为pin的指令，el为元素，binding为指令对象\nVue.directive('pin', function (el, binding) {\n  var pinned = binding.value;\n  if (pinned) {\n    el.style.position = 'fixed';\n    el.style.top = '10px';\n    el.style.left = '10px';\n  } else {\n    el.style.position = 'static';\n  }\n})\n\nnew Vue({\n  el: '#app',\n  data: {\n    card1: {\n      pinned: false,\n    },\n    card2: {\n      pinned: false,\n    },\n  }\n})\n\n// html\n<div id=\"app\">\n  <div v-pin=\"card1.pinned\" class=\"card\">\n    \t// 绑定事件\n      <button @click=\"card1.pinned = !card1.pinned\">钉住/取消</button>\n      Lorem ipsum dolor sit amet, consectetur\n  </div>\n  <div v-pin=\"card2.pinned\" class=\"card\">\n      <a @click=\"card2.pinned = !card2.pinned\" href=\"#\">pin it</a>\n      Lorem ipsum dolor sit amet, consectetur\n  </div>\n</div>\n```\n\n## 指令传参\n\n```js\nVue.directive('pin', function (el, binding) {\n\n  var pinned = binding.value;\n  // 获得修饰符\n  var position = binding.modifiers;\n  // 获得参数\n  var warning = binding.arg;\n  console.log(pinned,position,warning);\n\n  if (pinned) {\n    el.style.position = 'fixed';\n\n    for (var key in position) {\n      if (position[key]) {\n        el.style[key] = '10px';\n      }\n    }\n    if (warning === 'true') {\n      el.style.background = 'yellow';\n    }\n  } else {\n    el.style.position = 'static';\n  }\n})\n\nnew Vue({\n  el: '#app',\n  data: {\n    card1: {\n      pinned: false,\n    },\n    card2: {\n      pinned: false,\n    },\n  }\n})\n\n// html\n<div id=\"app\">\n  // 指令:传参.修饰符\n  <div v-pin:true.bottom.left=\"card1.pinned\" class=\"card\">\n    <button @click=\"card1.pinned = !card1.pinned\">钉住/取消</button>\n    Lorem ipsum dolor sit amet, consectetur\n  </div>\n  <div v-pin=\"card2.pinned\" class=\"card\">\n    <a @click=\"card2.pinned = !card2.pinned\" href=\"#\">pin it</a>\n    Lorem ipsum dolor sit amet, consectetur\n  </div>\n```\n"}}]);