(window.webpackJsonp=window.webpackJsonp||[]).push([[393],{1021:function(n,e){n.exports="\x3c!--\ntitle: MQTT\nsort:\n--\x3e\n\n> 基于发布/订阅的轻量级通讯协议\n>\n> 构建于 TCP/IP 协议上\n\n[EMPX](https://www.emqx.cn/downloads#broker)\n\n1. 开启服务\n\n```bash\nsudo emqx start\n# dashboard\nhttp://127.0.0.1:18083/\nadmin-public\n# 通用->监听器\n```\n\n2. 使用 Node-Red 编写服务\n\n![image-20210429162729619](https://img-1257284600.cos.ap-beijing.myqcloud.com/2021/20210429162731.png)\n\n3. [MQTT.js](https://github.com/mqttjs/MQTT.js)\n\n```\nvar mqtt = require('mqtt')\nvar client  = mqtt.connect('mqtt://l')\n\nclient.on('connect', function () {\n  client.subscribe('presence', function (err) {\n    if (!err) {\n      client.publish('presence', 'Hello mqtt')\n    }\n  })\n})\n\nclient.on('message', function (topic, message) {\n  // message is Buffer\n  console.log(message.toString())\n  client.end()\n})\n```\n"}}]);