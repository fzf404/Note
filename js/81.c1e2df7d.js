(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{709:function(n,t){n.exports="\x3c!--\ntitle: 21-Taro中使用Redux\nsort:\n--\x3e\n\n## 创建 Redux\n\n`\\src\\store\\index.jsx`\n\n```react\nimport { createStore, combineReducers } from 'redux';\n\nconst reducers = combineReducers({\n\tcount: (state = 42, action) => {\n\t\tif (action.type === 'SET_COUNT') {\n\t\t\treturn action.count\n\t\t}\n\t\treturn state\n\t}\n})\n\nconst store = createStore(reducers)\n\nexport default store\n```\n\n`\\src\\app.js`\n\n```react\nimport { Component } from 'react'\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport './app.scss'\n\n\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        {this.props.children}\n      </Provider>\n    )\n  }\n}\n\nexport default App\n```\n\n## 使用\n\n```react\nimport { connect } from \"react-redux\";\n\nclass Index extends Component {\n\n  countIncrease = () => {\n    this.props.setCount(this.props.count + 1)\n  }\n\n  countDecrease = () => {\n    this.props.setCount(this.props.count - 1)\n  }\n\n  render() {\n    return (\n      <View>\n        <View>{this.props.count}</View>\n        <AtButton onClick={() => this.countIncrease()}>\n          +\n        </AtButton>\n        <AtButton onClick={() => this.countDecrease()}>\n          -\n        </AtButton>\n      </View>\n    )\n  }\n}\n// 设置值\nconst mapDispatchToProps = dispatch => {\n  return {\n    setCount: count => dispatch({ type: 'SET_COUNT', count })\n  }\n}\n\n// 读取值\nconst mapStateToProps = state => {\n  return { count: state.count }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Index)\n```\n"}}]);