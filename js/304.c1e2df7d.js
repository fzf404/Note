(window.webpackJsonp=window.webpackJsonp||[]).push([[304],{932:function(n,e){n.exports="\x3c!--\ntitle: 34-Flask\nsort:\n--\x3e\n\n# Flask 入门\n\n- [官方文档](https://dormousehole.readthedocs.io/en/latest/)\n- [SocketIO 文档](https://flask-socketio.readthedocs.io/en/latest/getting_started.html)\n\n## Flask\n\n```python\nfrom flask import Flask\n\napp = Flask(__name__)\n\n@server.route('/')\ndef index():\n    return '<h2>Flask Running...</h2>'\n\napp.run('127.0.0.1',port=8080)\n```\n\n### 参数获取\n\n```python\n# parme获取\nrequest.args.get('mess')\nrequest.args['mess']\n# form-data获取\nrequest.form.get('mess')\n# json获取\nrequest.json['mess']\n# 文件获取/保存\nf = request.files['img']\nf.save('public/' + name)\n```\n\n### 跨域请求\n\n```python\nfrom flask_cors import *\nCORS(app, supports_credentials=True)\n```\n\n## SocketIO\n\n### 基础\n\n```python\nfrom flask_socketio import SocketIO\n\n# 连接事件\n@socketio.on('connect')\ndef test_connect():\n    global user_number\n    user_number += 1\n    socketio.emit('number', user_number)\n\n# 断开连接事件\n@socketio.on('disconnect')\ndef test_disconnect():\n    global user_number\n    user_number -= 1\n    socketio.emit('number', user_number)\n\n# 默认message事件\n@socketio.on('message')\ndef handle_message(msg):\n    chat_logger.info(msg)\n    socketio.send(msg)\n\nif __name__ == '__main__':\n    socketio.run(app, '0.0.0.0', port='8080')\n```\n\n### 跨域\n\n```python\nsocketio = SocketIO(app, cors_allowed_origins=\"*\")\n```\n"}}]);