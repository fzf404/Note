(window.webpackJsonp=window.webpackJsonp||[]).push([[382],{1010:function(n,e){n.exports="\x3c!--\ntitle: Cloudreve\nsort:\n--\x3e\n\n> 文件管理系统\n>\n> [DockerHub 地址](https://hub.docker.com/r/xavierniu/cloudreve)\n\n## docker\n\n> [cloudreve](https://hub.docker.com/r/xavierniu/cloudreve)\n\n```bash\nmkdir -vp cloudreve/{uploads,avatar} \\\n  && touch cloudreve/conf.ini \\\n  && touch cloudreve/cloudreve.db \\\n  cd cloudreve\n\ndocker run -d \\\n  -p 5212:5212 \\\n  --mount type=bind,source=$PWD/conf.ini,target=/cloudreve/conf.ini \\\n  --mount type=bind,source=$PWD/cloudreve.db,target=/cloudreve/cloudreve.db \\\n  -v $PWD/uploads:/cloudreve/uploads \\\n  -v $PWD/avatar:/cloudreve/avatar \\\n  --name cloudreve \\\n  cloudreve/cloudreve:latest\n\n# 获取初始密码\ndocker logs -f cloudreve\n```\n\n### Docker-compose\n\n> `docker-compose up -d`\n\n- `.env`\n\n```ini\n# Required\n\n# > PUID & PGID\nCLOUDREVE_PUID=0\nCLOUDREVE_PGID=0\n\n# > Aria2\nARIA2_RPC_SECRET=password\n\n# Optional\n# But I highly recommend you keep items below as default\n# unless you know what you are doing.\n\n# > Temp download folder for Aria2 & Cloudreve\nTEMP_FOLDER_PATH=/opt/aria2/temp\n\n# > Aria2\nARIA2_CONFIG_PATH=/opt/aria2/conf\n\n# > Cloudreve\nCLOUDREVE_UPLOAD_PATH=/opt/cloudreve/uploads\nCLOUDREVE_CONF_PATH=/opt/cloudreve/config\nCLOUDREVE_DB_PATH=/opt/cloudreve/db\nCLOUDREVE_AVATAR_PATH=/opt/cloudreve/avatar\n```\n\n- `docker-compose.yml`\n\n```yaml\nversion: '3'\n\nservices:\n  aria2:\n    image: p3terx/aria2-pro\n    logging:\n      options:\n        max-size: 1m\n    ports:\n      - 6800:6800\n      - 6888:6888\n      - 6888:6888/udp\n    environment:\n      - PUID=${CLOUDREVE_PUID}\n      - PGID=${CLOUDREVE_PGID}\n      - RPC_SECRET=${ARIA2_RPC_SECRET}\n    volumes:\n      - ${ARIA2_CONFIG_PATH}:/config\n      - ${TEMP_FOLDER_PATH}:/downloads\n    networks:\n      - cloudreve-network\n    restart: unless-stopped\n\n  cloudreve:\n    image: xavierniu/cloudreve\n    ports:\n      - 5212:5212\n    environment:\n      - PUID=${CLOUDREVE_PUID}\n      - PGID=${CLOUDREVE_PGID}\n    volumes:\n      - ${CLOUDREVE_UPLOAD_PATH}:/cloudreve/uploads\n      - ${TEMP_FOLDER_PATH}:/downloads\n      - ${CLOUDREVE_CONF_PATH}:/cloudreve/config\n      - ${CLOUDREVE_DB_PATH}:/cloudreve/db\n      - ${CLOUDREVE_AVATAR_PATH}:/cloudreve/avatar\n    networks:\n      - cloudreve-network\n\nnetworks:\n  cloudreve-network:\n```\n\n- nginx\n\n```nginx\nserver {\n  listen 80;\n  server_name cloud.fzf404.art;\n  rewrite ^(.*)$ https://$host$1 permanent;\n}\n\nserver {\n\n    listen 443 ssl;\n    server_name cloud.fzf404.art;\n\n    ssl_certificate /www/cert/cloud.fzf404.art/cert.pem;\n    ssl_certificate_key /www/cert/cloud.fzf404.art/key.pem;\n\n    location / {\n\n        proxy_pass http://127.0.0.1:5212;\n\n        proxy_set_header Host $host;\n        proxy_set_header Referer $http_referer;\n        proxy_set_header X-Real-Ip $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_redirect off;\n\n        client_max_body_size 20000m;\n\n    }\n\n    access_log  /www/logs/cloud.fzf404.art.log;\n    error_log  /www/logs/cloud.fzf404.art.error.log;\n\n}\n```\n\n### Webdav\n\n```bash\n# regedit\nHKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\WebClient\\Parameters\n\n# BasicAuthLevel\n2\n\n# 重启服务\nnet stop webclient\nnet start webclient\n\n```\n"}}]);